<div class="formularioRegistro">
  <h2>Crear Persona</h2>
  <form [formGroup]="personaForm" (ngSubmit)="guardar()">
    <div class="form-group">
      <label>Nombre</label>
      <input type="text" formControlName="nombre" class="form-control" />
    </div>

    <div class="form-group">
      <label>Apellido</label>
      <input type="text" formControlName="apellido" class="form-control" />
    </div>
    <div class="form-group">
      <label>Edad</label>
      <input type="number" formControlName="edad" class="form-control" />
      <p *ngIf="personaForm.get('edad').hasError('edad_invalida')">
        No es un edad valida
      </p>
    </div>
    <div class="form-group">
      <label>Pais</label>
      <select
        name="pais"
        id="pais"
        formControlName="pais"
        class="form-control"
        class="form-select"
      >
        <option [ngValue]="item" *ngFor="let item of paises">
          {{ item.nombre }}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label>Provincia</label>
      <select
        name="provincia"
        id="provincia"
        formControlName="provincia"
        class="form-control"
        class="form-select"
      >
        <option [ngValue]="item" *ngFor="let item of provincias">
          {{ item.nombre }}
        </option>
      </select>
    </div>
    <br />
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="personaForm.invalid"
    >
      Guardar
    </button>
    <!-- VISTA DE LOS MENSAJES DE VALIDACIONES -->
  </form>
</div>
<hr />

<h3>Lista de Personas</h3>

<table class="table">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Nombres</th>
      <th scope="col">Apellidos</th>
      <th scope="col">Edad</th>
      <th scope="col">Pais</th>
      <th scope="col">Provincia</th>
      <th scope="col">Editar</th>
      <th scope="col">Eliminar</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of personas">
      <th scope="row">{{ item.id }}</th>
      <td>{{ item.nombre }}</td>
      <td>{{ item.apellido }}</td>
      <td>{{ item.edad }}</td>
      <td>{{ item.pais.nombre }}</td>
      <td>{{ item.provincia.nombre }}</td>
      <td>
        <button class="btn btn-primary" (click)="editarPersona(item)">
          Editar
        </button>
      </td>
      <td>
        <button class="btn btn-danger" (click)="deletePersona(item)">
          Eliminar
        </button>
      </td>
    </tr>
  </tbody>
</table>
